<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- next previous last first
    add delete -->
    <div style="width: 500px; height: 250px; background-color: bisque;">
        <p id="block" style="margin: 2%;"></p>
    </div><br>
    <button onclick="next()" id="next">next</button>
    <button onclick="previous()" id="previous">previous</button>
    <button onclick="last()" id="last">last</button>
    <button onclick="first()" id="first">first</button>
    <button onclick="add()" id="add">add</button>
    <button onclick="remove()">delete</button>
    <button onclick="addPic()">add picture</button>
    <button onclick="resetData()">reset data</button>
    <script>
        let i = 0
        let res = []
        fetchDB()
        async function fetchDB() {
            let serverR = "https://jsonplaceholder.typicode.com/users"
            let serverL = "http://localhost:3000/posts"
            res = await fetch(serverR).then(response => response.json())
            updateDisplay()
        }
        function updateDisplay() {
            //block.innerHTML = `${res[i%res.length].id} ${res[i%res.length].title} ${res[i%res.length].author}`;
            console.log(res);
            console.log(i);
            if (res.length != 0){
            block.innerHTML = `Showing entry ${i+1} ot of ${res.length}:<hr>
                id: ${res[i % res.length].id}, 
                name: ${res[i % res.length].name},
                username: ${res[i % res.length].username}<br>
                address:<br>street: ${res[i % res.length].address.street},
                suite: ${res[i % res.length].address.suite},
                city: ${res[i % res.length].address.city},
                zipcode: ${res[i % res.length].address.zipcode},
                lat: ${res[i % res.length].address.geo.lat},
                lng: ${res[i % res.length].address.geo.lng}<br>
                phone: ${res[i % res.length].phone},
                website: ${res[i % res.length].website}<br>
                company:<br>name: ${res[i % res.length].company.name},
                catchphrase: ${res[i % res.length].company.catchPhrase},
                bs: ${res[i % res.length].company.bs}
                `
            }else
            block.innerHTML = "Nothing to display"    
        }
        function next() {
            i = i < res.length ? ++i : 0
            updateDisplay()
        }
        function previous() {
            i = i > 0 ? --i : 0
            updateDisplay()
        }
        function last() {
            i = res.length - 1
            updateDisplay()
        }
        function first() {
            i = 0
            updateDisplay()
        }
        function resetData() {
            res = []
            updateDisplay()
        }
        function add() {
            updateDisplay()
        }
        function remove() {
            updateDisplay()
        }
        function addPic() {
            updateDisplay()
        }
    </script>
</body>

</html>